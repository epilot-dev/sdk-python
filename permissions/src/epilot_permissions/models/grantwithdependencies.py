"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .grant import Grant, GrantTypedDict
from .grantcondition import GrantCondition, GrantConditionTypedDict
from enum import Enum
from epilot_permissions.types import BaseModel
from typing import List, Optional, TypedDict
from typing_extensions import NotRequired


class GrantWithDependenciesEffect(str, Enum):
    ALLOW = "allow"
    DENY = "deny"

class GrantWithDependenciesTypedDict(TypedDict):
    action: str
    conditions: NotRequired[List[GrantConditionTypedDict]]
    dependencies: NotRequired[List[GrantTypedDict]]
    r"""Provided additional dependencies, exploded when storing the role"""
    effect: NotRequired[GrantWithDependenciesEffect]
    resource: NotRequired[str]
    

class GrantWithDependencies(BaseModel):
    action: str
    conditions: Optional[List[GrantCondition]] = None
    dependencies: Optional[List[Grant]] = None
    r"""Provided additional dependencies, exploded when storing the role"""
    effect: Optional[GrantWithDependenciesEffect] = GrantWithDependenciesEffect.ALLOW
    resource: Optional[str] = None
    
