"""Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT."""

from __future__ import annotations
from .mappingattribute import MappingAttribute, MappingAttributeTypedDict
from .mappingattributev2 import MappingAttributeV2, MappingAttributeV2TypedDict
from .mappingconfigref import MappingConfigRef, MappingConfigRefTypedDict
from .relationattribute import RelationAttribute, RelationAttributeTypedDict
from epilot_automation.types import BaseModel
from typing import List, Optional, TypedDict, Union
from typing_extensions import NotRequired


MapEntityConfigMappingAttributesTypedDict = Union[MappingAttributeV2TypedDict, MappingAttributeTypedDict]


MapEntityConfigMappingAttributes = Union[MappingAttributeV2, MappingAttribute]


class MapEntityConfigTypedDict(TypedDict):
    target_schema: str
    r"""Schema of target entity"""
    linkback_relation_attribute: NotRequired[str]
    r"""Relation attribute on the main entity where the target entity will be linked. Set to false to disable linkback

    """
    linkback_relation_tags: NotRequired[List[str]]
    r"""Relation tags (labels) to include in main entity linkback relation attribute"""
    mapping_attributes: NotRequired[List[MapEntityConfigMappingAttributesTypedDict]]
    r"""Attribute mappings"""
    mapping_config: NotRequired[MappingConfigRefTypedDict]
    relation_attributes: NotRequired[List[RelationAttributeTypedDict]]
    r"""Relation mappings"""
    target_unique: NotRequired[List[str]]
    r"""Unique key for target entity (see upsertEntity of Entity API)"""
    

class MapEntityConfig(BaseModel):
    target_schema: str
    r"""Schema of target entity"""
    linkback_relation_attribute: Optional[str] = "mapped_entities"
    r"""Relation attribute on the main entity where the target entity will be linked. Set to false to disable linkback

    """
    linkback_relation_tags: Optional[List[str]] = None
    r"""Relation tags (labels) to include in main entity linkback relation attribute"""
    mapping_attributes: Optional[List[MapEntityConfigMappingAttributes]] = None
    r"""Attribute mappings"""
    mapping_config: Optional[MappingConfigRef] = None
    relation_attributes: Optional[List[RelationAttribute]] = None
    r"""Relation mappings"""
    target_unique: Optional[List[str]] = None
    r"""Unique key for target entity (see upsertEntity of Entity API)"""
    
